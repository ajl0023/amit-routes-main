var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,r=(t,r)=>{for(var o in r||(r={}))n.call(r,o)&&i(t,o,r[o]);if(e)for(var o of e(r))s.call(r,o)&&i(t,o,r[o]);return t};import{C as o,S as a,i as c,s as u,e as l,f as d,h,M as p,j as f,k as m,w as g,n as v,l as b,E as y,p as _,a0 as k,o as w,G as x,c as S,m as O,t as C,a as j,d as T,A as E,x as P,D,$ as I}from"./vendor.ad3114cc.js";import{g as A}from"./index.0e78106e.js";import{s as M,t as K}from"./index.b497fdcf.js";import{d as $}from"./utils.f73a3604.js";const L={toVector:(t,e)=>(void 0===t&&(t=e),Array.isArray(t)?t:[t,t]),add:(t,e)=>[t[0]+e[0],t[1]+e[1]],sub:(t,e)=>[t[0]-e[0],t[1]-e[1]],addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function B(t,e,n){return 0===e||Math.abs(e)===1/0?Math.pow(t,5*n):t*e*n/(e+n*t)}function R(t,e,n,s=.15){return 0===s?function(t,e,n){return Math.max(e,Math.min(t,n))}(t,e,n):t<e?-B(e-t,n-e,s)+e:t>n?+B(t-n,n-e,s)+n:t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const U={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Y(t){return t?t[0].toUpperCase()+t.slice(1):""}function q(t){return"touches"in t}function J(t){return q(t)?function(t){return"touchend"===t.type?t.changedTouches:t.targetTouches}(t)[0]:t}function G(t){return function(t){return Array.from(t.touches).filter((e=>{var n,s;return e.target===t.currentTarget||(null===(n=t.currentTarget)||void 0===n||null===(s=n.contains)||void 0===s?void 0:s.call(n,e.target))}))}(t).map((t=>t.identifier))}function N(t){const e=J(t);return q(t)?e.identifier:e.pointerId}function X(t){const e=J(t);return[e.clientX,e.clientY]}function Z(t,...e){return"function"==typeof t?t(...e):t}function F(){}function Q(...t){return 0===t.length?F:1===t.length?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function W(t,e){return Object.assign({},e,t||{})}const tt=t=>t,et={enabled:(t=!0)=>t,preventDefault:(t=!1)=>t,triggerAllEvents:(t=!1)=>t,rubberband(t=0){switch(t){case!0:return[.15,.15];case!1:return[0,0];default:return L.toVector(t)}},from:t=>"function"==typeof t?t:null!=t?L.toVector(t):void 0,transform(t,e,n){const s=t||n.shared.transform;return this.hasCustomTransform=!!s,s||tt},threshold:t=>L.toVector(t,0)},nt=H(H({},et),{},{axis(t,e,{axis:n}){if(this.lockDirection="lock"===n,!this.lockDirection)return n},bounds(t={}){if("function"==typeof t)return e=>nt.bounds(t(e));if("current"in t)return()=>t.current;if("function"==typeof HTMLElement&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:s=-1/0,bottom:i=1/0}=t;return[[e,n],[s,i]]}}),st={ArrowRight:(t=1)=>[10*t,0],ArrowLeft:(t=1)=>[-10*t,0],ArrowUp:(t=1)=>[0,-10*t],ArrowDown:(t=1)=>[0,10*t]};const it="undefined"!=typeof window&&window.document&&window.document.createElement;function rt(){return it&&"ontouchstart"in window}const ot={isBrowser:it,gesture:function(){try{return"constructor"in GestureEvent}catch(t){return!1}}(),touch:rt(),touchscreen:rt()||it&&window.navigator.maxTouchPoints>1,pointer:it&&"onpointerdown"in window,pointerLock:it&&"exitPointerLock"in window.document},at=H(H({},nt),{},{pointerLock(t,e,{pointer:{lock:n=!1,touch:s=!1}={}}){return this.useTouch=ot.touch&&s,ot.pointerLock&&n},device(t,e){return this.useTouch?"touch":this.pointerLock?"mouse":ot.pointer?"pointer":ot.touch?"touch":"mouse"},preventScroll(t=!1,e,{preventScrollAxis:n="y"}){return n&&(this.preventScrollAxis=n),!!ot.touchscreen&&("number"==typeof t?t:!!t&&250)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:s=1}={}}){return this.pointerButtons=s,!this.pointerLock&&"pointer"===this.device&&n},threshold(t,e,{filterTaps:n=!1,axis:s}){const i=L.toVector(t,n?3:s?1:0);return this.filterTaps=n,i},swipe({velocity:t=.5,distance:e=50,duration:n=250}={}){return{velocity:this.transform(L.toVector(t)),distance:this.transform(L.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return 180;case!1:return 0;default:return t}}});H(H({},et),{},{useTouch:(t,e,{pointer:{touch:n=!1}={}})=>ot.touch&&n,device(t,e,n){if(n.shared.target&&!ot.touch&&ot.gesture)return"gesture";if(this.useTouch)return"touch";if(ot.touchscreen){if(ot.pointer)return"pointer";if(ot.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:s={}}){const i=t=>{const e=W(Z(n,t),{min:-1/0,max:1/0});return[e.min,e.max]},r=t=>{const e=W(Z(s,t),{min:-1/0,max:1/0});return[e.min,e.max]};return"function"!=typeof n&&"function"!=typeof s?[i(),r()]:t=>[i(t),r(t)]},threshold(t,e,n){this.lockDirection="lock"===n.axis;return L.toVector(t,this.lockDirection?[.1,3]:0)}}),H(H({},nt),{},{mouseOnly:(t=!0)=>t}),H(H({},nt),{},{mouseOnly:(t=!0)=>t});const ct=new Map,ut=new Map;const lt={key:"drag",engine:class extends class extends class{constructor(t,e,n){this.ctrl=t,this.args=e,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:e,ingKey:n,args:s}=this;e[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const e=this.state,n=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=n.from?Z(n.from,e):e.offset,e.offset=e.lastOffset),e.startTime=e.timeStamp=t.timeStamp}computeValues(t){const e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:e,config:n,shared:s}=this;e.args=this.args;let i=0;if(t&&(e.event=t,n.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,function(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:s,metaKey:i,ctrlKey:r}=t;Object.assign(e,{shiftKey:n,altKey:s,metaKey:i,ctrlKey:r})}return e}(t)),s.down=s.pressed=s.buttons%2==1||s.touches>0,i=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){const t=e._delta.map(Math.abs);L.addTo(e._distance,t)}const[r,o]=e._movement,[a,c]=n.threshold,{_step:u,values:l}=e;if(n.hasCustomTransform?(!1===u[0]&&(u[0]=Math.abs(r)>=a&&l[0]),!1===u[1]&&(u[1]=Math.abs(o)>=c&&l[1])):(!1===u[0]&&(u[0]=Math.abs(r)>=a&&Math.sign(r)*a),!1===u[1]&&(u[1]=Math.abs(o)>=c&&Math.sign(o)*c)),e.intentional=!1!==u[0]||!1!==u[1],!e.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[t,e]=l;d[0]=!1!==u[0]?t-u[0]:0,d[1]=!1!==u[1]?e-u[1]:0}else d[0]=!1!==u[0]?r-u[0]:0,d[1]=!1!==u[1]?o-u[1]:0;if(this.intent&&this.intent(d),(e._active&&!e._blocked||e.active)&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=s[this.ingKey]=e._active,t)){e.first&&("bounds"in n&&(e._bounds=Z(n.bounds,e)),this.setup&&this.setup()),e.movement=d;const t=e.offset;if(this.computeOffset(),!e.last||i>32){e.delta=L.sub(e.offset,t);const n=e.delta.map(Math.abs);L.addTo(e.distance,n),e.direction=e.delta.map(Math.sign),!e.first&&i>0&&(e.velocity=[n[0]/i,n[1]/i])}}const h=e._active&&n.rubberband||[0,0];e.offset=function(t,[e,n],[s,i]){const[[r,o],[a,c]]=t;return[R(e,r,o,s),R(n,a,c,i)]}(e._bounds,e.offset,h),this.computeMovement()}emit(){const t=this.state,e=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const s=this.handler(H(H(H({},e),t),{},{[this.aliasKey]:t.values}));void 0!==s&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}{constructor(...t){super(...t),z(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=L.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=L.sub(this.state.offset,this.state.lastOffset)}intent(t){this.state.axis=this.state.axis||function([t,e]){const n=Math.abs(t)-Math.abs(e);return n>0?"x":n<0?"y":void 0}(t),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,this.state._blocked||(this.config.axis||this.config.lockDirection)&&function(t,e){switch(e){case"x":t[1]=0;break;case"y":t[0]=0}}(t,this.state.axis)}}{constructor(...t){super(...t),z(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const e=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),s={left:e.left-n.left+t.offset[0],right:e.right-n.right+t.offset[0],top:e.top-n.top+t.offset[1],bottom:e.bottom-n.bottom+t.offset[1]};t._bounds=nt.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const e=this.config,n=this.state;(null==t.buttons||(Array.isArray(e.pointerButtons)?e.pointerButtons.includes(t.buttons):-1===e.pointerButtons||e.pointerButtons===t.buttons))&&(this.ctrl.setEventIds(t),e.pointerCapture&&t.target.setPointerCapture(t.pointerId),n._pointerActive||(this.start(t),this.setupPointer(t),n._pointerId=N(t),n._pointerActive=!0,this.computeValues(X(t)),this.computeInitial(),e.preventScroll?this.setupScrollPrevention(t):e.delay>0?this.setupDelayTrigger(t):this.startPointerDrag(t)))}startPointerDrag(t){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const e=this.state,n=this.config;if(!e._pointerActive)return;if(e.type===t.type&&t.timeStamp===e.timeStamp)return;const s=N(t);if(e._pointerId&&s!==e._pointerId)return;const i=X(t);return document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=L.sub(i,e._values),this.computeValues(i)),L.addTo(e._movement,e._delta),this.compute(t),e._delayed?(this.timeoutStore.remove("dragDelay"),e.active=!1,void this.startPointerDrag(t)):n.preventScroll&&!e._preventScroll?e.axis?e.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(e._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(t)):void 0:void this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch(o){}const e=this.state,n=this.config;if(!e._pointerActive)return;const s=N(t);if(e._pointerId&&s!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,r]=e._distance;if(e.tap=i<=3&&r<=3,e.tap&&n.filterTaps)e._force=!0;else{const[t,s]=e.direction,[i,r]=e.velocity,[o,a]=e.movement,[c,u]=n.swipe.velocity,[l,d]=n.swipe.distance,h=n.swipe.duration;e.elapsedTime<h&&(Math.abs(i)>c&&Math.abs(o)>l&&(e.swipe[0]=t),Math.abs(r)>u&&Math.abs(a)>d&&(e.swipe[1]=s))}this.emit()}pointerClick(t){this.state.tap||(t.preventDefault(),t.stopPropagation())}setupPointer(t){const e=this.config;let n=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){!function(t){"persist"in t&&"function"==typeof t.persist&&t.persist()}(t),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this),{passive:!1}),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScroll,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",this.startPointerDrag.bind(this),this.config.delay,t)}keyDown(t){const e=st[t.key];if(e){const n=this.state,s=t.shiftKey?10:t.altKey?.1:1;n._delta=e(s),this.start(t),n._keyboardActive=!0,L.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in st&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this))),t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this)),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0})}},resolver:at};function dt(t,e){if(null==t)return{};var n,s,i=function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}const ht={target(t){if(t)return()=>"current"in t?t.current:t},enabled:(t=!0)=>t,window:(t=(ot.isBrowser?window:void 0))=>t,eventOptions:({passive:t=!0,capture:e=!1}={})=>({passive:t,capture:e}),transform:t=>t},pt=["target","eventOptions","window","enabled","transform"];function ft(t={},e){const n={};for(const[s,i]of Object.entries(e))switch(typeof i){case"function":n[s]=i.call(n,t[s],s,t);break;case"object":n[s]=ft(t[s],i);break;case"boolean":i&&(n[s]=t[s])}return n}class mt{constructor(t){z(this,"_listeners",[]),this._ctrl=t}add(t,e,n,s,i){const r=function(t,e=""){const n=U[t];return t+(n&&n[e]||e)}(e,n),o=H(H({},this._ctrl.config.shared.eventOptions),i);t.addEventListener(r,s,o),this._listeners.push((()=>t.removeEventListener(r,s,o)))}clean(){this._listeners.forEach((t=>t())),this._listeners=[]}}class gt{constructor(){z(this,"_timeouts",new Map)}add(t,e,n=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(e,n,...s))}remove(t){const e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach((t=>{window.clearTimeout(t)})),this._timeouts.clear()}}class vt{constructor(t){z(this,"gestures",new Set),z(this,"_targetEventStore",new mt(this)),z(this,"gestureEventStores",{}),z(this,"gestureTimeoutStores",{}),z(this,"handlers",{}),z(this,"config",{}),z(this,"pointerIds",new Set),z(this,"touchIds",new Set),z(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(t,e){e.drag&&bt(t,"drag");e.wheel&&bt(t,"wheel");e.scroll&&bt(t,"scroll");e.move&&bt(t,"move");e.pinch&&bt(t,"pinch");e.hover&&bt(t,"hover")}(this,t)}setEventIds(t){q(t)?this.touchIds=new Set(G(t)):"pointerId"in t&&("pointerup"===t.type||"pointercancel"===t.type?this.pointerIds.delete(t.pointerId):"pointerdown"===t.type&&this.pointerIds.add(t.pointerId))}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=function(t,e){const n=t,{target:s,eventOptions:i,window:r,enabled:o,transform:a}=n,c=dt(n,pt),u={shared:ft({target:s,eventOptions:i,window:r,enabled:o,transform:a},ht)};if(e){const t=ut.get(e);u[e]=ft(H({shared:u.shared},c),t)}else for(const l in c){const t=ut.get(l);t&&(u[l]=ft(H({shared:u.shared},c[l]),t))}return u}(t,e)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const e=this.config.shared,n=e.eventOptions,s={};let i;if(e.target&&(i=e.target(),!i))return;const r=yt(s,n,!!i);if(e.enabled){for(const e of this.gestures)if(this.config[e].enabled){new(ct.get(e))(this,t,e).bind(r)}for(const e in this.nativeHandlers)r(e,"",(n=>this.nativeHandlers[e](H(H({},this.state.shared),{},{event:n,args:t}))),void 0,!0)}for(const o in s)s[o]=Q(...s[o]);if(!i)return s;for(const o in s){let t=o.substr(2).toLowerCase();const e=!!~t.indexOf("capture"),n=!!~t.indexOf("passive");(e||n)&&(t=t.replace(/capture|passive/g,"")),this._targetEventStore.add(i,t,"",s[o],{capture:e,passive:n})}}}function bt(t,e){t.gestures.add(e),t.gestureEventStores[e]=new mt(t),t.gestureTimeoutStores[e]=new gt}const yt=(t,e,n)=>(s,i,r,o={},a=!1)=>{var c,u;const l=null!==(c=o.capture)&&void 0!==c?c:e.capture,d=null!==(u=o.passive)&&void 0!==u?u:e.passive;let h=a?s:function(t,e="",n=!1){const s=U[t],i=s&&s[e]||e;return"on"+Y(t)+Y(i)+(n?"Capture":"")}(s,i,l);n&&d&&(h+="Passive"),t[h]=t[h]||[],t[h].push(r)};function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){_t(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const xt=function(t,e,n,s,i){this._gestureKey=s,this._ctrl=new vt(e),this._ctrl.applyHandlers(e,i),this._ctrl.applyConfig(wt(wt({},n),{},{target:t}),this._gestureKey),this._ctrl.effect()};xt.prototype.destroy=function(){this._ctrl.clean()};const St=function(t,e,n={}){var s;return s=lt,ct.set(s.key,s.engine),ut.set(s.key,s.resolver),new xt(t,{drag:e},n,"drag")},Ot=(()=>{const t={exited:[],exiting:!1,shouldReturn:!1,zIndex:[],zIndexNum:1,returnedCards:[],cardToExit:null,currentStack:[5,4,3,2,1,0]},{subscribe:e,set:n,update:s}=o(t),i={init(t){n({outline:t,exited:[],shouldReturn:!1,zIndex:[],zIndexNum:1,cardToExit:null,returnedCards:[],currentStack:[5,4,3,2,1,0]})},exit(t){s((e=>(e.exited.push(t),e.currentStack=e.currentStack.filter((e=>e!==t)),e)))},reset(){s((t=>(t.shouldReturn=!0,t.exited=[],t.currentStack=[5,4,3,2,1,0],t.cardToExit=null,t)))},introAnim(){A.to(".meet-the-team-card",{y:0,delay:1.2,stagger:-.2,duration:.5})},reenable(t){s((e=>{const n=r({},e);return n.returnedCards.push(t),6===n.returnedCards.length&&(n.shouldReturn=!1,n.returnedCards=[]),n}))},returnCard(t){s((e=>(e.exited=e.exited.filter((e=>e!==t)),e.currentStack=[...e.currentStack,t],e.cardToExit=null,e)))},resetStore(){},manualExit(){s((t=>{if(!t.shouldReturn){const e=t.currentStack[t.currentStack.length-1];t.cardToExit=e}return t}))},getExitLocation(e,n){const s=t.outline.getBoundingClientRect(),i=e.getBoundingClientRect();return $(s.x,i.x,s.y,i.y)}};return r({subscribe:e,set:n,update:s},i)})();function Ct(t){let e,n,s,i,r,o,a,c,u,_;return{c(){e=l("div"),n=l("div"),s=l("img"),r=d(),o=l("div"),a=l("img"),h(s,"draggable","false"),p(s.src,i=t[0].front)||h(s,"src",i),h(s,"alt",""),h(s,"class","svelte-1309k95"),h(n,"draggable","false"),h(n,"class","image-container front-container svelte-1309k95"),h(a,"draggable","false"),p(a.src,c=t[0].back)||h(a,"src",c),h(a,"alt",""),h(a,"class","svelte-1309k95"),h(o,"draggable","false"),h(o,"class","image-container back-container svelte-1309k95"),h(e,"draggable","false"),h(e,"class","card-container meet-the-team-card svelte-1309k95")},m(i,c){f(i,e,c),m(e,n),m(n,s),m(e,r),m(e,o),m(o,a),t[14](e),u||(_=[g(s,"dragstart",jt),g(a,"dragstart",Tt),g(e,"mouseover",t[12]),g(e,"mouseout",t[13])],u=!0)},p(t,[e]){1&e&&!p(s.src,i=t[0].front)&&h(s,"src",i),1&e&&!p(a.src,c=t[0].back)&&h(a,"src",c)},i:v,o:v,d(n){n&&b(e),t[14](null),u=!1,y(_)}}}const jt=t=>{t.preventDefault()},Tt=t=>{t.preventDefault()};function Et(t,e,n){let s,i,r,o;_(t,Ot,(t=>n(11,o=t)));let a,c,{index:u}=e,{rotate:l}=e,{image:d}=e,{stack:h}=e,{outline:p}=e,f=!1,m=M(1,{stiffness:.1,damping:.5});const g=K(l,{duration:150});_(t,g,(t=>n(17,r=t)));const v=K(0,{duration:300}),b=M(0,{stiffness:.1,damping:.5}),y=k([b,m,v],(t=>({x:t[0],scale:t[1],rotateY:t[2]})));function S(){n(3,c=!0),Ot.exit(u);const t=p.getBoundingClientRect(),e=h.getBoundingClientRect(),s=$(t.x,e.x,t.y,e.y);b.set(-s);let i=o.exited.indexOf(u);setTimeout((()=>{A.set(a,{zIndex:i})}),60)}w((()=>{new St(a,(({event:t,tap:e,direction:i,movement:r,active:o,swipe:a})=>{s||(c?c&&e&&(n(3,c=!1),Ot.returnCard(u),b.set(0)):(b.set(r[0]),-1===a[0]&&i[0]<0?S():o||b.set(0),e&&(f=!f,f?v.set(180):v.set(0))))}),{eventOptions:{capture:!1,passive:!1},filterTaps:!0}),A.set(a,{zIndex:6-u,rotateZ:r,y:"-100vh"})})),y.subscribe((t=>{A.set(a,{x:t.x,rotateY:t.rotateY,scale:t.scale})}));return t.$$set=t=>{"index"in t&&n(6,u=t.index),"rotate"in t&&n(7,l=t.rotate),"image"in t&&n(0,d=t.image),"stack"in t&&n(8,h=t.stack),"outline"in t&&n(9,p=t.outline)},t.$$.update=()=>{2048&t.$$.dirty&&n(1,({shouldReturn:s,cardToExit:i}=o),s,(n(10,i),n(11,o))),1090&t.$$.dirty&&(i!==u||s||S()),66&t.$$.dirty&&s&&setTimeout((()=>{b.stiffness=.1,b.damping=1,n(3,c=!1),b.set(0).then((()=>{Ot.reenable(u)})),A.set(a,{zIndex:6-u})}),1e3+100*(5-u))},[d,s,a,c,m,g,u,l,h,p,i,o,()=>{c||s||m.set(1.15)},()=>{m.set(1)},function(t){x[t?"unshift":"push"]((()=>{a=t,n(2,a)}))}]}class Pt extends a{constructor(t){super(),c(this,t,Et,Ct,u,{index:6,rotate:7,image:0,stack:8,outline:9})}}const Dt=[{front:"https://res.cloudinary.com/dt4xntymn/image/upload/v1633335279/mainSite/meet%20the%20team/Cards/front/Omar_Card_frdbxy.jpg",back:"https://res.cloudinary.com/dt4xntymn/image/upload/v1637899753/mainSite/meet%20the%20team/Cards/back/Omar_Card_Back_2_og3bqg.jpg",description:"Omar"},{front:"https://res.cloudinary.com/dt4xntymn/image/upload/v1633335279/mainSite/meet%20the%20team/Cards/front/Luke_Card_dgfcrg.jpg",back:"https://res.cloudinary.com/dt4xntymn/image/upload/v1637899753/mainSite/meet%20the%20team/Cards/back/Luke_Card_Back_2_rlyn6z.jpg",description:"LUKE"},{front:"https://res.cloudinary.com/dt4xntymn/image/upload/v1633335279/mainSite/meet%20the%20team/Cards/front/Mike_Card_yyevct.jpg",back:"https://res.cloudinary.com/dt4xntymn/image/upload/v1637899753/mainSite/meet%20the%20team/Cards/back/Mike_Card_Back_2_namikx.jpg",description:"MIKE"},{front:"https://res.cloudinary.com/dt4xntymn/image/upload/v1633335279/mainSite/meet%20the%20team/Cards/front/Yak_Card_c55nzc.jpg",back:"https://res.cloudinary.com/dt4xntymn/image/upload/v1637899753/mainSite/meet%20the%20team/Cards/back/Yak_Card_Back_2_ro0mxu.jpg",description:"YAK"},{front:"https://res.cloudinary.com/dt4xntymn/image/upload/v1633335279/mainSite/meet%20the%20team/Cards/front/Elchin_Card_hhfjc2.jpg",back:"https://res.cloudinary.com/dt4xntymn/image/upload/v1637899753/mainSite/meet%20the%20team/Cards/back/Elchin_Card_Back_2_sukoq9.jpg",description:"Elchin"},{front:"https://res.cloudinary.com/dt4xntymn/image/upload/v1637784455/mainSite/meet%20the%20team/Cards/front/Joker_Card_pwqclu.jpg",back:"https://res.cloudinary.com/dt4xntymn/image/upload/v1637784449/mainSite/meet%20the%20team/Cards/back/Joker_Card_Back_x8eonc.jpg",description:"JOKER"}];function It(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function At(t){let e,n;return e=new Pt({props:{stack:t[1],outline:t[0],dropPosition:t[3],shouldReturn:!1,index:t[12],image:{front:t[10].front,back:t[10].back},rotate:t[2].includes(t[12])?2*t[12]:0}}),{c(){S(e.$$.fragment)},m(t,s){O(e,t,s),n=!0},p(t,n){const s={};2&n&&(s.stack=t[1]),1&n&&(s.outline=t[0]),e.$set(s)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Mt(t){let e,n,s,i,r,o,a,c,u,p,v,y,_,k,w,x,S,O=Dt,T=[];for(let l=0;l<O.length;l+=1)T[l]=At(It(t,O,l));const I=t=>j(T[t],1,1,(()=>{T[t]=null}));return{c(){e=l("div"),n=l("div"),s=l("div"),i=l("div"),r=l("div"),o=d(),a=l("div"),c=d(),u=l("div"),u.innerHTML='<img src="https://res.cloudinary.com/dt4xntymn/image/upload/v1638853734/mainSite/meet%20the%20team/cardArrow_lz4ufg.png" alt="" class="svelte-vf6c49"/>',p=d(),v=l("div"),y=l("ul");for(let t=0;t<T.length;t+=1)T[t].c();_=d(),k=l("div"),h(r,"class","three-by-two aspect-ratio svelte-vf6c49"),h(a,"class","card-outline svelte-vf6c49"),h(i,"class","card-outline aspect-ratio svelte-vf6c49"),h(u,"class","arrow-image-container svelte-vf6c49"),h(y,"class","card-wrapper svelte-vf6c49"),h(k,"class","three-by-two aspect-ratio svelte-vf6c49"),h(v,"draggable","false"),h(v,"class","aspect-ratio svelte-vf6c49"),h(s,"class","card-layout-container svelte-vf6c49"),h(n,"class","container svelte-vf6c49"),h(e,"class","wrapper svelte-vf6c49")},m(l,d){f(l,e,d),m(e,n),m(n,s),m(s,i),m(i,r),m(i,o),m(i,a),t[7](a),m(s,c),m(s,u),m(s,p),m(s,v),m(v,y);for(let t=0;t<T.length;t+=1)T[t].m(y,null);t[9](y),m(v,_),m(v,k),w=!0,x||(S=g(u,"click",t[8]),x=!0)},p(t,[e]){if(15&e){let n;for(O=Dt,n=0;n<O.length;n+=1){const s=It(t,O,n);T[n]?(T[n].p(s,e),C(T[n],1)):(T[n]=At(s),T[n].c(),C(T[n],1),T[n].m(y,null))}for(E(),n=O.length;n<T.length;n+=1)I(n);P()}},i(t){if(!w){for(let t=0;t<O.length;t+=1)C(T[t]);w=!0}},o(t){T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)j(T[e]);w=!1},d(n){n&&b(e),t[7](null),D(T,n),t[9](null),x=!1,S()}}}function Kt(t,e,n){let s,i;_(t,Ot,(t=>n(6,i=t)));let r,o,a;w((()=>{Ot.init(r),Ot.introAnim()})),I((()=>{Ot.init(r)}));return t.$$.update=()=>{64&t.$$.dirty&&n(5,({currentStack:s}=i),s),32&t.$$.dirty&&n(4,a=s.length),16&t.$$.dirty&&0===a&&Ot.reset()},[r,o,[0,3,2,4],undefined,a,s,i,function(t){x[t?"unshift":"push"]((()=>{r=t,n(0,r)}))},()=>{Ot.manualExit()},function(t){x[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}class $t extends a{constructor(t){super(),c(this,t,Kt,Mt,u,{})}}export{$t as default};
